{"version":3,"file":"static/js/849.c234ff7b.chunk.js","mappings":"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","sources":["service/Api.js","components/userList/UserList.styled.js","components/listItem/ListItem.jsx","components/userList/UserList.jsx","components/btnLoadMore/BtnLoadMore.styled.js","components/btnLoadMore/BtnLoadMore.jsx","components/returnButton/ReturnButton.styled.js","components/returnButton/ReturnButton.jsx","pages/Tweets.jsx"],"sourcesContent":["import axios from 'axios';\n\n// const BASE_URL = 'https://642f9845c26d69edc87f8191.mockapi.io';\nconst BASE_URL = new URL('https://642f9845c26d69edc87f8191.mockapi.io/tweets');\n// url.searchParams.append('limit', 3);\n\nexport const fetcUsers = async page => {\n  const responce = await axios.get(`${BASE_URL}?page=${page}&limit=3`);\n  return responce.data;\n};\n\nexport const addUser = async values => {\n  const responce = await axios.post(`${BASE_URL}`, values);\n  return responce.data;\n};\n\nexport const changeUser = async (id, followers) => {\n  const responce = await axios.put(`${BASE_URL}/${id}`, {\n    followers: `${followers}`,\n  });\n  return responce.data;\n};\n\n// export const fetchContacts = createAsyncThunk(\n//   'contacts/fetchContacts',\n//   async (_, thunkAPI) => {\n//     try {\n//       const response = await axios.get('/contacts');\n//       return response.data;\n//     } catch (e) {\n//       return thunkAPI.rejectWithValue(e.message);\n//     }\n//   }\n// );\n\n// const API_KEY = '992e567e43c913ea6cedbae9c8870c1e';\n\n// const BASE_URL = 'https://api.themoviedb.org/3';\n// const TREND_URL = `${BASE_URL}/trending/movie/day`;\n// const SEARCH_URL = `${BASE_URL}/search/movie`;\n// const MOVIE_URL = `${BASE_URL}/movie`;\n\n// const fetchTrendsFilms = async () => {\n//   const responce = await axios.get(`${TREND_URL}?api_key=${API_KEY}`);\n//   return responce.data;\n// };\n\n// const featchSearchFilm = async query => {\n//   const responce = await axios.get(\n//     `${SEARCH_URL}?api_key=${API_KEY}&query=${query}`\n//   );\n//   return responce.data;\n// };\n\n// const featchMovieDetailsById = async movieId => {\n//   const responce = await axios.get(\n//     `${MOVIE_URL}/${movieId}?api_key=${API_KEY}`\n//   );\n//   return responce.data;\n// };\n\n// const featchMovieCredits = async id => {\n//   const responce = await axios.get(\n//     `${MOVIE_URL}/${id}/credits?api_key=${API_KEY}`\n//   );\n//   return responce.data;\n// };\n\n// const featchMovieReviews = async id => {\n//   const responce = await axios.get(\n//     `${MOVIE_URL}/${id}/reviews?api_key=${API_KEY}`\n//   );\n//   return responce.data;\n// };\n\n// export {\n//   fetchTrendsFilms,\n//   featchSearchFilm,\n//   featchMovieDetailsById,\n//   featchMovieCredits,\n//   featchMovieReviews,\n// };\n","import styled from 'styled-components';\nimport BgImage from '../../assets/bg_picture.png';\nimport Frame from '../../assets/avatar_frame.png';\n\nconst List = styled.ul`\n  display: flew;\n  flex-wrap: wrap;\n  gap: 20px;\n  justify-content: center;\n  padding: 10px;\n  font-size: 20px;\n  color: #ebd8ff;\n  font-family: 'Montserrat';\n`;\n\nconst Item = styled.li`\n  width: 379px;\n  height: 460px;\n  border: 1px solid #000000;\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n\n  background-image: url(${BgImage}),\n    linear-gradient(114.99deg, #471ca9 -0.99%, #5736a3 54.28%, #4b2a99 78.99%);\n  background-repeat: no-repeat;\n  background-position: 36px 28px, 0px 0px;\n\n  list-style: none;\n\n  &:hover,\n  &:focus {\n    scale: 1.02;\n  }\n`;\nconst LogoImg = styled.img`\n  display: block;\n  margin-top: 20px;\n  margin-left: 20px;\n`;\nconst AvatarFrame = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80px;\n  margin-top: 136px;\n  margin-bottom: 26px;\n  background-image: url(${Frame});\n  background-repeat: no-repeat;\n  background-position: -6px 0px;\n`;\n\nconst AvatarImg = styled.img`\n  display: block;\n  border-radius: 50%;\n`;\nconst Text = styled.p`\n  margin-top: 0;\n  margin-bottom: 16px;\n  font-weight: 500;\n  text-align: center;\n`;\n\nconst ButtonFollow = styled.button`\n  display: block;\n  width: 196px;\n  padding: 14px 0px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 26px;\n  margin-bottom: 36px;\n  font-family: 'Montserrat';\n  font-weight: 600;\n  font-size: 18px;\n  background-color: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  &:hover {\n    background-color: #5cd3a8;\n  }\n`;\n\nexport { List, Item, LogoImg, AvatarImg, AvatarFrame, Text, ButtonFollow };\n","import {\n  LogoImg,\n  AvatarImg,\n  AvatarFrame,\n  Text,\n  ButtonFollow,\n} from '../userList/UserList.styled';\nimport Logo from '../../assets/logo.png';\nimport { changeUser } from '../../service/Api';\nimport { useState, useEffect } from 'react';\n\nexport const ListItem = ({ item, onFollow }) => {\n  const { id, tweets, followers, avatar, user } = item;\n  const [totallFollowers, setTotallFollowers] = useState(followers);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const kFollowers = totallFollowers\n    .toString()\n    .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\n  useEffect(() => {\n    if (onFollow?.some(user => user.id === id)) {\n      setIsFollowed(true);\n    }\n  }, [onFollow, id]);\n\n  const handleChangeFollow = () => {\n    updateLocalStorage();\n    changeAPI();\n    updateTotallFollowers();\n  };\n\n  const updateLocalStorage = () => {\n    setIsFollowed(!isFollowed);\n    if (isFollowed) {\n      const newArr = JSON.parse(localStorage.getItem('onFollow')).filter(\n        user => user.id !== id\n      );\n      localStorage.setItem('onFollow', JSON.stringify(newArr));\n    } else {\n      if (localStorage.getItem('onFollow')) {\n        localStorage.setItem(\n          'onFollow',\n          JSON.stringify([\n            ...JSON.parse(localStorage.getItem('onFollow')),\n            { id, user },\n          ])\n        );\n      } else {\n        localStorage.setItem('onFollow', JSON.stringify([{ id, user }]));\n      }\n    }\n  };\n\n  async function changeAPI() {\n    try {\n      await changeUser(\n        id,\n        isFollowed ? Number(totallFollowers) - 1 : Number(totallFollowers) + 1\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  const updateTotallFollowers = () => {\n    isFollowed\n      ? setTotallFollowers(Number(totallFollowers) - 1)\n      : setTotallFollowers(Number(totallFollowers) + 1);\n  };\n\n  return (\n    <>\n      <LogoImg src={Logo} alt=\"logo\" />\n      <AvatarFrame>\n        <AvatarImg src={avatar} alt=\"avatar\" width={62} />\n      </AvatarFrame>\n      <Text>\n        {tweets} <span>TWEETS</span>{' '}\n      </Text>\n      <Text>\n        {kFollowers} <span>FOLLOWERS</span>\n      </Text>\n      <ButtonFollow\n        type=\"submit\"\n        onClick={() => handleChangeFollow(user)}\n        style={{ backgroundColor: isFollowed && '#5cd3a8' }}\n      >\n        {isFollowed ? <>Following </> : <> Follow</>}\n      </ButtonFollow>\n    </>\n  );\n};\n","import { List, Item } from './UserList.styled';\nimport { ListItem } from '../listItem/ListItem';\n\nconst UserList = ({ users, onFollow }) => {\n  return (\n    <List>\n      {users.map(user => (\n        <Item key={user.id}>\n          <ListItem item={user} onFollow={onFollow} />\n        </Item>\n      ))}\n    </List>\n  );\n};\nexport default UserList;\n","import styled from 'styled-components';\n\nconst BtnWraper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Btn = styled.button`\n  padding: 8px 16px;\n  background-color: #5736a3;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #ebd8ff;\n  border: 1px solid #5736a3;\n  border-radius: 10px;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 196px;\n  padding: 14px 0px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus {\n    background-color: #5cd3a8;\n    color: #000;\n  }\n`;\n\nexport { BtnWraper, Btn };\n","import { BtnWraper, Btn } from './BtnLoadMore.styled';\n\nexport const BtnLoadMore = ({ onClick }) => {\n  return (\n    <BtnWraper>\n      <Btn onClick={onClick} type=\"button\">\n        Load more\n      </Btn>\n    </BtnWraper>\n  );\n};\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst ButtonContainer = styled.div`\n  padding: 0px 16px;\n`;\nconst ButtonLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  padding: 8px 10px;\n  background-color: #5736a3;\n  font-size: 14px;\n  color: #ebd8ff;\n  text-decoration: none;\n\n  border-radius: 5px;\n  border: 1px solid #bbbbbb;\n\n  &:hover,\n  :focus {\n    background-color: #5cd3a8;\n    color: #000;\n  }\n`;\n\nexport { ButtonContainer, ButtonLink };\n","import { BsArrowLeftShort } from 'react-icons/bs';\nimport { ButtonContainer, ButtonLink } from './ReturnButton.styled';\n\nconst ReturnButton = ({ locationBack }) => {\n  return (\n    <ButtonContainer>\n      <ButtonLink to={locationBack}>\n        <BsArrowLeftShort size={20} />\n        Go bacK\n      </ButtonLink>\n    </ButtonContainer>\n  );\n};\nexport default ReturnButton;\n","import { useState, useEffect, useRef } from 'react';\nimport { fetcUsers } from '../service/Api';\nimport UserList from '../components/userList/UserList';\nimport { BtnLoadMore } from '../components/btnLoadMore/BtnLoadMore';\nimport { useLocation } from 'react-router-dom';\nimport ReturnButton from '../components/returnButton/ReturnButton';\n\nconst Tweets = () => {\n  const [users, setUsers] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [showLoadMore, setShowLoadMore] = useState(false);\n  const [page, setPage] = useState(1);\n  const [onFollow, setOnFollow] = useState(null);\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    async function getUser() {\n      try {\n        const getUserInf = await fetcUsers(page);\n        setStatus('resolved');\n        setShowLoadMore(true);\n\n        if (Math.ceil(getUserInf.length < 3)) {\n          setShowLoadMore(false);\n        }\n        setUsers(prev => [...prev, ...getUserInf]);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getUser();\n  }, [page]);\n\n  useEffect(() => {\n    if (localStorage.getItem('onFollow')) {\n      setOnFollow(JSON.parse(localStorage.getItem('onFollow')));\n    }\n  }, []);\n\n  const loadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  return (\n    <>\n      <div>\n        <ReturnButton locationBack={backLinkLocationRef.current} />\n      </div>\n      {status === 'idle' && <div>Loading...</div>}\n      {status === 'resolved' && <UserList users={users} onFollow={onFollow} />}\n      {status === 'resolved' &&\n        (showLoadMore ? (\n          <BtnLoadMore onClick={loadMore} />\n        ) : (\n          <p>These are all user's tweets...</p>\n        ))}\n    </>\n  );\n};\n\nexport default Tweets;\n"],"names":["BASE_URL","URL","fetcUsers","page","axios","responce","data","changeUser","id","followers","List","styled","Item","BgImage","LogoImg","AvatarFrame","Frame","AvatarImg","Text","ButtonFollow","ListItem","item","onFollow","tweets","avatar","user","useState","totallFollowers","setTotallFollowers","isFollowed","setIsFollowed","kFollowers","toString","replace","useEffect","some","handleChangeFollow","updateLocalStorage","changeAPI","updateTotallFollowers","newArr","JSON","parse","localStorage","getItem","filter","setItem","stringify","Number","console","log","src","Logo","alt","width","type","onClick","style","backgroundColor","users","map","BtnWraper","Btn","BtnLoadMore","ButtonContainer","ButtonLink","Link","locationBack","to","size","setUsers","status","setStatus","showLoadMore","setShowLoadMore","setPage","setOnFollow","location","useLocation","backLinkLocationRef","useRef","state","from","getUserInf","Math","ceil","length","prev","getUser","current"],"sourceRoot":""}